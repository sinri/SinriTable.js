<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>SinriTable.js by sinri</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">SinriTable.js</h1>
      <h2 class="project-tagline">Editable Table Component in Javascript for Web Page.</h2>
      <a href="https://github.com/sinri/SinriTable.js" class="btn">View on GitHub</a>
      <a href="https://github.com/sinri/SinriTable.js/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/sinri/SinriTable.js/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="sinritablejs" class="anchor" href="#sinritablejs" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SinriTable.js</h1>

<p>Editable Table Component in Javascript for Web Page.</p>

<h2>
<a id="set-up-sinritablejs" class="anchor" href="#set-up-sinritablejs" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Set up SinriTable.js</h2>

<p>You need to load the this with</p>

<pre><code>&lt;link rel="stylesheet" type="text/css" href="SinriTable.css"&gt;
&lt;script src="SinriTable.js"&gt;&lt;/script&gt;
</code></pre>

<p>And in HTML page body, set one div such as </p>

<pre><code>&lt;div id="demo_st" class="SinriTable"&gt;&lt;/div&gt;
</code></pre>

<p>And for it create one instance of SinriTable Object with</p>

<pre><code>var theST=SinriTable('demo_st');
</code></pre>

<p>Okay, now you can benefit from SinriTable with its various(?) functions.</p>

<h2>
<a id="details-of-sinritablejs" class="anchor" href="#details-of-sinritablejs" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Details of SinriTable.js</h2>

<h3>
<a id="property" class="anchor" href="#property" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Property</h3>

<p><code>table_div_id</code> : Store the id of one div, in which the target table would be shown in.</p>

<p><code>editable</code> : Determine if the table created later editable.</p>

<h3>
<a id="function" class="anchor" href="#function" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Function</h3>

<p><code>function init(dataMatrix,editable)</code></p>

<p>This function to generate a new table instance in the preset div. Parameter <code>dataMatrix</code> is a json object, which would be described later. Parameter <code>editable</code> determines if the generated table is editable.</p>

<p><code>function bodyJson()</code></p>

<p>This function is to make the data in table body to an JSON array and stringify it to return.</p>

<p><code>function refresh()</code></p>

<p>Force to recompute value of cells.</p>

<h3>
<a id="data-format" class="anchor" href="#data-format" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Format</h3>

<p>Data Matrix is a json object which contains two keys, <code>title</code> and <code>body</code>. Both of the two contain an array with one or more item, one item for one row. Item for title lines could be String or object with three possible keys of <code>name</code>, <code>rowspan</code> and <code>colspan</code>, but <code>name</code> must be there. Item for body lines should be a value to display. For example:</p>

<pre><code>var dm={
    title:[
        [{name:'No.',rowspan:2},{name:'Part I',colspan:2},{name:'Part II',colspan:2},{name:"FORMULA",colspan:2}],
        ['AName','BName','CName','DName','FORMULA','EXPECTED']
    ],
    body:[
        ['0','1','2','3','4','5','=5'],
        ['10','11','12','13','14','=[1,1]','11'],
        ['20','21','22','23','24','=[2,3]+[2,4]/[2,2]',''+(23+24/22)],
        ['30','31','32','33','34','=count(0,0,5,1)','12'],
        ['40','41','42','34','44','=sum(0,0,5,1)','306'],
        ['50','51','52','53','54','=ave(0,0,5,1)','25.5'],
    ]
};
</code></pre>

<p>In source data matrix json, you would find those string values begin with equal char <code>=</code>, which are defined as formulas. Formula functions now include <code>count</code>, <code>sum</code>, <code>ave</code>, <code>min</code>, <code>max</code>. Each of the functions has four parameters, <code>r1</code>, <code>c1</code>, <code>r2</code>, <code>c2</code>. For example, parameter <code>(0,0,1,1)</code> includes the sub matrix of </p>

<pre><code>[0,0]   [0,1]
[1,0]   [1,1]
</code></pre>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/sinri/SinriTable.js">SinriTable.js</a> is maintained by <a href="https://github.com/sinri">sinri</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
